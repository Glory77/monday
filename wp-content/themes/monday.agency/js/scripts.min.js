document.addEventListener("DOMContentLoaded",function(){var t=[].slice.call(document.querySelectorAll("img.lazy")),e=[].slice.call(document.querySelectorAll(".lazy-background")),o=[].slice.call(document.querySelectorAll("[data-bg]"));if("IntersectionObserver"in window){let n=new IntersectionObserver(function(t,e){t.forEach(function(t){if(t.isIntersecting){let e=t.target;e.src=e.dataset.src,e.srcset=e.dataset.srcset,e.classList.remove("lazy"),n.unobserve(e)}})});t.forEach(function(t){n.observe(t)});let s=new IntersectionObserver(function(t,e){t.forEach(function(t){t.isIntersecting&&(t.target.classList.add("visible"),s.unobserve(t.target))})});e.forEach(function(t){s.observe(t)});let i=new IntersectionObserver(function(t,e){t.forEach(function(t){if(t.isIntersecting){let e=t.target;e.style.backgroundImage="url("+e.dataset.bg+")",i.unobserve(e)}})});o.forEach(function(t){i.observe(t)})}else t.forEach(function(t){t.src=t.dataset.src,t.srcset=t.dataset.srcset}),e.forEach(function(t){t.classList.add("visible")}),o.forEach(function(t){t.style.backgroundImage="url("+t.dataset.bg+")"})}),document.addEventListener("DOMContentLoaded",function(){if($(".modal-content .wpcf7 .form-group").each(function(){var t=$(this).find("span");console.log(t),$(this).find("label").appendTo(t)}),$('a[href*="#"]').not('[href="#"]').not('[href="#getInTouch"]').not('[href="#0"]').click(function(t){if($(".menu-wrapper").find("li.active").removeClass("active"),$(this).parent().addClass("active"),location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash);(e=e.length?e:$("[name="+this.hash.slice(1)+"]")).length&&(t.preventDefault(),$("html, body").animate({scrollTop:e.offset().top},1e3,function(){var t=$(e);if(t.is(":focus"))return!1;t.attr("tabindex","-1")}))}}),$(function(){$(".btn-modal").fancybox({touch:!1,padding:0,beforeLoad:function(t){var e=$(this.src).data("href");void 0!==e&&(this.src=e)}}),$("a[href='#getInTouch']").fancybox({touch:!1,padding:0,beforeLoad:function(t){var e=$(this.src).attr("href");void 0!==e&&(this.src=e)}}),$(".btn-answer").fancybox({padding:0,beforeLoad:function(t){$(".fancybox-close-small").click();var e=$(this.src).data("href");void 0===e&&(e=$(this.src).attr("href")),this.src=e}})}),$(".menu-btn").click(function(t){$("body").toggleClass("menu-open")}),$(".testimonials-slider").slick({autoplay:!1,autoplaySpeed:5e3,slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!0,loop:!0}),$(".what-wrapper").length>0){var t=$(" <div class='follow-link'><span></span></div>");$("body").append($(t))}$(".what-wrapper").on("mousemove",function(t){$(".what-wrapper").height(),$(".follow-link").height(),$(".follow-link").width();$(".follow-link").css({left:t.pageX,top:t.pageY-40,opacity:1}),$(".what-item").mouseenter(function(t){var e=$(this).find(".what-wrapper__inner").attr("data-href");$(".follow-link span").text(e)})}),$(".how-element").mouseenter(function(t){$(this).addClass("active visited"),$(this).prev().removeClass("active"),$(this).nextAll().removeClass("active");let e=$(this).attr("data-width");$(".how-line").css("width",e)}),$(".team-name").hover(function(t){var e=$(this).parent().index();$(".team-image").find(".svg-circle").eq(e).addClass("show")}),$(".team-name").mouseleave(function(t){$(".team-image").find(".svg-circle").removeClass("show")});var e,o=[],n=[],s=!1,i=d3.svg.line().interpolate("bundle").tension(1).x(function(t,e){return t.x}).y(function(t,e){return t.y}),a=d3.select("body").append("svg").attr("class","line-body");function r(){s=!0,o=[],e=a.append("path").data([o]).attr("class","line").attr("d",i),"mousedown"===d3.event.type?a.on("mousemove",l):a.on("touchmove",l)}function c(){var t,e;if(a.on("mousemove",null),a.on("touchmove",null),s){s=!1,t=o.length,console.group("Line Simplification"),console.log("Before simplification:",t),e=(o=simplify(o)).length,console.log("After simplification:",o.length),console.groupEnd();parseInt(100-e/t*100,10);n.push(o),h()}}function l(t){var e;$(event.target).closest("div").length||$(event.target).closest(".svg-circle").length||$(event.target).closest(".how-wrapper__inner").length||$(event.target).closest("span").length||$(event.target).closest("a").length||$(event.target).closest("p").length||$(event.target).closest("slick-slide").length||$(event.target).closest(".team-name span").length||(e="mousemove"===d3.event.type?d3.mouse(this):d3.touches(this)[0],o.push({x:e[0],y:e[1]}),h())}function h(){e.attr("d",function(t){return i(t)})}a.append("g"),a.on("mousedown",r).on("touchstart",r).on("touchend",c).on("touchleave",c).on("mouseup",c).on("mouseleave",c),$(".required").focus(function(t){$(this).addClass("focus")}),$(".required").focusout(function(t){$(this).val()?$(this).addClass("focus"):$(this).removeClass("focus")}),window.innerWidth<1024&&$(".projects-rows .what-item").bind("touchstart",function(t){var e=$(window).height(),o=$(this).position().top+$(this).outerHeight(!0),n=$(this).position().top,s=o-$(window).scrollTop();n-$(window).scrollTop()+$(".projects-rows").position().top+$(this).outerHeight(!0)>e-s-$(".projects-rows").position().top-$(this).outerHeight(!0)/2?$(this).find(".hover-image").css({top:"unset",bottom:"calc(100% + 30px)"}):$(this).find(".hover-image").css({top:"calc(100% + 30px)",bottom:"unset"})}),window.innerWidth>1024&&$(".projects-rows .what-item").hover(function(t){var e=$(window).height(),o=$(this).position().top+$(this).outerHeight(!0),n=$(this).position().top,s=o-$(window).scrollTop();n-$(window).scrollTop()+$(".projects-rows").position().top+$(this).outerHeight(!0)>e-s-$(".projects-rows").position().top-$(this).outerHeight(!0)/2?$(this).find(".hover-image").css({top:"unset",bottom:"calc(100% + 30px)"}):$(this).find(".hover-image").css({top:"calc(100% + 30px)",bottom:"unset"})}),$(".how-wrapper__inner").mouseleave(function(){$(".how-element").removeClass("active visited"),$(".how-line").css("width","0")})});